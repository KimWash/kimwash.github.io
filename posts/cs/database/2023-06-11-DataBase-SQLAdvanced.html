<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>데이터베이스: SQL 고급 | Wh@t !s Development?</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-C7NTCRQ25E"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-C7NTCRQ25E');</script>
    <meta name="description" content="배워가고 있는 현업..? 대학생 개발자">
    
    <link rel="preload" href="/assets/css/0.styles.d0292b10.css" as="style"><link rel="preload" href="/assets/js/app.ddc79771.js" as="script"><link rel="preload" href="/assets/js/1.00a05d18.js" as="script"><link rel="preload" href="/assets/js/57.0b66cd56.js" as="script"><link rel="prefetch" href="/assets/js/10.dfcccddd.js"><link rel="prefetch" href="/assets/js/11.6b83b439.js"><link rel="prefetch" href="/assets/js/12.d56c10e2.js"><link rel="prefetch" href="/assets/js/13.9a7e722a.js"><link rel="prefetch" href="/assets/js/14.c77e849e.js"><link rel="prefetch" href="/assets/js/15.6edac085.js"><link rel="prefetch" href="/assets/js/16.4aa95d0a.js"><link rel="prefetch" href="/assets/js/17.b6aa454d.js"><link rel="prefetch" href="/assets/js/18.c63b30d1.js"><link rel="prefetch" href="/assets/js/19.ac53068d.js"><link rel="prefetch" href="/assets/js/2.f29d7a36.js"><link rel="prefetch" href="/assets/js/20.ca4439f5.js"><link rel="prefetch" href="/assets/js/21.e494406c.js"><link rel="prefetch" href="/assets/js/22.2c5c23b6.js"><link rel="prefetch" href="/assets/js/23.46ee9f2a.js"><link rel="prefetch" href="/assets/js/24.dae06283.js"><link rel="prefetch" href="/assets/js/25.57ee23f4.js"><link rel="prefetch" href="/assets/js/26.fa87e3a1.js"><link rel="prefetch" href="/assets/js/27.8bad4a4a.js"><link rel="prefetch" href="/assets/js/28.c022dafb.js"><link rel="prefetch" href="/assets/js/29.832754dd.js"><link rel="prefetch" href="/assets/js/30.d6e6a2b7.js"><link rel="prefetch" href="/assets/js/31.e58352c6.js"><link rel="prefetch" href="/assets/js/32.3cf6010b.js"><link rel="prefetch" href="/assets/js/33.dbf0acb0.js"><link rel="prefetch" href="/assets/js/34.c86bebc8.js"><link rel="prefetch" href="/assets/js/35.ed0db922.js"><link rel="prefetch" href="/assets/js/36.fe356a5e.js"><link rel="prefetch" href="/assets/js/37.10850e5b.js"><link rel="prefetch" href="/assets/js/38.2dcc607c.js"><link rel="prefetch" href="/assets/js/39.7c0f35e0.js"><link rel="prefetch" href="/assets/js/4.1ba239d4.js"><link rel="prefetch" href="/assets/js/40.8b87d3bf.js"><link rel="prefetch" href="/assets/js/41.f30deeb0.js"><link rel="prefetch" href="/assets/js/42.57b77ea8.js"><link rel="prefetch" href="/assets/js/43.b3315ca4.js"><link rel="prefetch" href="/assets/js/44.b17508ca.js"><link rel="prefetch" href="/assets/js/45.5b5c19a7.js"><link rel="prefetch" href="/assets/js/46.9e8ce819.js"><link rel="prefetch" href="/assets/js/47.28b35706.js"><link rel="prefetch" href="/assets/js/48.c0d87fd4.js"><link rel="prefetch" href="/assets/js/49.a1b41e8c.js"><link rel="prefetch" href="/assets/js/5.4eb38bec.js"><link rel="prefetch" href="/assets/js/50.8bba066d.js"><link rel="prefetch" href="/assets/js/51.8cf81ea4.js"><link rel="prefetch" href="/assets/js/52.a18442c1.js"><link rel="prefetch" href="/assets/js/53.9c4363f6.js"><link rel="prefetch" href="/assets/js/54.aa373bcf.js"><link rel="prefetch" href="/assets/js/55.71982d82.js"><link rel="prefetch" href="/assets/js/56.5abff6bf.js"><link rel="prefetch" href="/assets/js/58.100b73b8.js"><link rel="prefetch" href="/assets/js/59.d9855a7f.js"><link rel="prefetch" href="/assets/js/6.d4f3d3fa.js"><link rel="prefetch" href="/assets/js/60.9e38f4e1.js"><link rel="prefetch" href="/assets/js/61.af4308f2.js"><link rel="prefetch" href="/assets/js/62.ccf1ac4f.js"><link rel="prefetch" href="/assets/js/63.c993d191.js"><link rel="prefetch" href="/assets/js/64.4471c1d1.js"><link rel="prefetch" href="/assets/js/65.e293c8a4.js"><link rel="prefetch" href="/assets/js/66.a2258361.js"><link rel="prefetch" href="/assets/js/67.b465570a.js"><link rel="prefetch" href="/assets/js/68.f5faede9.js"><link rel="prefetch" href="/assets/js/69.c5c7f24b.js"><link rel="prefetch" href="/assets/js/7.48b87eb4.js"><link rel="prefetch" href="/assets/js/70.a96c8ea1.js"><link rel="prefetch" href="/assets/js/71.6699ca68.js"><link rel="prefetch" href="/assets/js/72.cd05fcfb.js"><link rel="prefetch" href="/assets/js/73.6570ccec.js"><link rel="prefetch" href="/assets/js/74.6d9157b7.js"><link rel="prefetch" href="/assets/js/75.8b8f1b93.js"><link rel="prefetch" href="/assets/js/76.a1c0b7d3.js"><link rel="prefetch" href="/assets/js/77.e2237a8d.js"><link rel="prefetch" href="/assets/js/78.36aa1e85.js"><link rel="prefetch" href="/assets/js/79.92afca59.js"><link rel="prefetch" href="/assets/js/8.307db6b1.js"><link rel="prefetch" href="/assets/js/80.46b201f7.js"><link rel="prefetch" href="/assets/js/81.9939db5b.js"><link rel="prefetch" href="/assets/js/82.431ad0b8.js"><link rel="prefetch" href="/assets/js/83.2f42c6fa.js"><link rel="prefetch" href="/assets/js/84.156f49d3.js"><link rel="prefetch" href="/assets/js/85.f34a6202.js"><link rel="prefetch" href="/assets/js/86.060681ff.js"><link rel="prefetch" href="/assets/js/87.ddb48362.js"><link rel="prefetch" href="/assets/js/9.f92da099.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d0292b10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="layout"><div id="navbar"><nav role="navigation" aria-label="main navigation" class="navbar"><div class="navbar-brand"><a href="/" class="navbar-item" style="font-weight:bold;color:black;">
      Wh@t !s Development?
    </a><a role="button" aria-label="menu" tabindex="0" class="navbar-burger burger"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div class="navbar-menu"><div class="navbar-start"></div><div class="navbar-end"><a href="/" class="navbar-item">
      Home
    </a><a href="/about" class="navbar-item">
      About
    </a> <a href="/posts/app" class="navbar-item">
      앱
    </a><a href="/posts/cs" class="navbar-item">
      CS
    </a><a href="/posts/web" class="navbar-item">
      Web
    </a><a href="/posts/etc" class="navbar-item">
      그 외
    </a> <div class="navbar-item"><div class="buttons"><button type="button" class="button is-info"><!----><!----><span class="icon is-small"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-github fa-w-16"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></span></button> <button type="button" class="button is-info"><!----><!----><span class="icon is-small"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-instagram fa-w-14"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></span></button> <button type="button" class="button is-info"><!----><span><span class="icon is-small"><img src="/images/white_notion.svg" width="15" height="15"></span></span><!----></button></div></div></div></div></nav></div> <div class="content"><div class="page post"><div class="columns"><div class="column"><p class="title is-4">데이터베이스: SQL 고급</p></div> <div class="column is-2"><p class="subtitle is-5 date">2023-06-11 00:07:00</p></div></div> <div class="content__default" style="paddig:0;"><h2 id="숫자">숫자</h2> <ul><li>ABS</li> <li>ROUND(value, n): 소수점 n번째 자리까지 반올림</li></ul> <h2 id="문자열">문자열</h2> <ul><li>REPLACE(origin, textBeReplaced, textToReplace): origin의 textBeReplaced를 textToReplace로 치환</li> <li>LENGTH: 바이트 수</li> <li>CHAR_LENGTH: 글자수 (바이트수 X)</li> <li>SUBSTR(origin, start, length): origin 문자열을 start 부터 length 개 문자를 반환</li></ul> <h2 id="날짜">날짜</h2> <ul><li>ADDDATE(date, interval): date에서 interval 만큼 더한 날짜를 반환</li> <li>SYSDATE: DBMS 시스템 상 현재 날짜 반환</li> <li>DATE_FORMAT(date, format): 날짜형 데이터를 문자열로 반환</li></ul> <h2 id="null값-처리">NULL값 처리</h2> <ul><li>0, ‘0’, ‘’, ‘ ‘ 등과 다른 특별한 값</li> <li>비교 연산자로 비교 불가능</li> <li>NULL값에 연산 수행하면 결과 역시 NULL로 반환</li> <li>IFNULL: NULL을 다른 값으로 치환해 연산하거나 다른 값으로 출력</li> <li>IS NULL / IS NOT NULL: 널인지 체크 (’=’ 안됨)</li></ul> <h3 id="집계-함수를-사용할-때-주의할-점">집계 함수를 사용할 때 주의할 점</h3> <ul><li>집계 함수 계산 시 NULL이 포함된 행은 집계에서 빠짐
<ul><li>모든 데이터가 NULL → SUM, AVG 함수의 결과: NULL, COUNT:0</li></ul></li></ul> <h2 id="부속질의-subquery">부속질의 (subquery)</h2> <ul><li>하나의 SQL 문 안에 다른 SQL 문이 중첩된 질의</li> <li>다른 테이블에서 가져온 데이터로 현재 테이블에 있는 정보를 찾거나 가공할 때 사용</li> <li>데이터가 대량일 때 데이터를 모두 합쳐서 연산하는 조인보다 필요한 데이터만 찾아서 공급해주는 부속질의가 성능이 더 좋음</li> <li>종류
<ul><li>스칼라 부속질의: SELECT 절에서 단일 값을 반환</li> <li>인라인 뷰: FROM 절에서 결과를 뷰(view) 형태로 반환
<ul><li>상관 부속질의로 사용될 수 없음</li> <li>상관 부속질의란 주질의의 특정 컬럼 값을 부속질의가 상속받아 사용하는 형태</li> <li>조인에 참여하기 전 필요한 데이터만 뽑아 조인시켜 성능 향상 가능</li></ul></li></ul></li> <li>중첩질의: WHERE 절에서 술어와 같이 사용, 결과를 한정시키기 위해 상관/비상관 혀앹로 사용됨</li></ul> <h2 id="뷰-view">뷰(view)</h2> <ul><li>하나 이상의 테이블을 합하여 만든 가상의 테이블</li> <li>실제 테이블이 아닌 뷰를 생성할 때 SELECT 문의 정의를 DBMS가 저장, 뷰를 사용할 때 질의</li> <li>조건을 만족하는 튜플만 보여주는 View</li></ul> <h3 id="뷰의-생성">뷰의 생성</h3> <ul><li><code>CREATE VIEW 뷰이름 [(열이름 [ ,...n ])] AS SELECT문</code></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> BookWHERE bookname <span class="token operator">LIKE</span> <span class="token string">'%축구%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> vw_Book 
<span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Book <span class="token keyword">WHERE</span> bookname <span class="token operator">LIKE</span> <span class="token string">'%축구%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="뷰의-수정">뷰의 수정</h3> <ul><li><code>CREATE OR REPLACE VIEW 뷰이름 [(열이름 [ ,...n ])} AS SELECT 문;</code></li></ul> <h3 id="뷰의-삭제">뷰의 삭제</h3> <ul><li><code>DROP VIEW 뷰이름 [ ,...n ];</code></li></ul> <h2 id="인덱스">인덱스</h2> <ul><li>데이터를 쉽고 빠르게 찾을 수 있도록 만든 데이터 구조</li> <li><code>CREATE INDEX ix_Book ON Book (bookname);</code></li> <li><code>SHOW INDEX FROM Book;</code></li> <li>튜플의 키 값에 대한 위치</li> <li>생성 시 고려사항
<ul><li>WHERE 절/조인에 자주 사용되는 속성</li> <li>단일 테이블에 인덱스가 많으면 속도가 느려질 수 있음 (4-5개 권장)</li> <li>속성이 가공되는 경우 사용 X</li> <li>선택도(=1/서로 다른 값의 개수)가 낮을 때 유리함</li></ul></li> <li>인덱스는 B(alanced)-Tree 자료구조를 이용. 데이터의 수정/삭제/삽입이 잦으면 노드의 갱신이 주기적으로 일어나 단편화(fragmentation) 현상이 나타남 → 검색 시 성능 저하 발생</li> <li><code>ANALYZE TABLE 테이블이름;</code> 명령을 이용해 인덱스를 재생성</li> <li><code>DROP INDEX 인덱스이름 ON 테이블이름;</code></li></ul> <h2 id="이상현상">이상현상</h2> <ul><li>불필요한 데이터의 중복으로 인해 릴레이션에 대한 데이터의 삽입/수정/삭제 연산을 수행할 때 발생할 수 있는 부작용
<ul><li>삭제이상: 튜플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상</li> <li>수정이상: 튜플 수정시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상</li> <li>삽입이상: 튜플 삽입 시 특정 속성에 해당되는 값이 없어 NULL 값을 입력해야 하는 현상</li></ul></li></ul> <h2 id="함수-종속">함수 종속</h2> <ul><li>“X가 Y를 함수적으로 결정한다”
<ul><li>릴레이션 내의 모든 튜플에서 하나의 X 값에 대한 Y 값이 항상 하나임</li> <li>X와 Y는 하나의 릴레이션을 구성하는 속성들의 부분 집합</li> <li>“Y가 X에 함수적으로 종속되어 있다&quot;와 같은 의미</li> <li>X→ Y로 표현 (X는 결정자, Y는 종속자)</li></ul></li> <li>함수적 종속성, 속성들 간의 관련성</li> <li>이상형상이 발생하지 않도록 릴레이션을 관련 있는 속성들로만 구성하기 위해 릴레이션을 분해하는 정규화 과정에 함수적 종속성을 판단</li> <li>함수 종속 관계 판단 시 유의사항
<ul><li>속성 값이 아닌 “속성 자체의 특성”을 고려하여 함수 종속 관계를 판단해야 함</li> <li>기본키는 종속성 판단에서 제외</li> <li>기본키/후보키가 아니어도 릴레이션의 다른 속성을 유일하게 결정하는 속성은 함수 종속 관계에서 결정자가 될 수 있음</li></ul></li> <li>완전 함수 종속
<ul><li>속성 집합 Y가 속성 집합 X에 함수적으로 종속되어 있지만, 속성 집합 X의 전체가 아닌 일부분에는 종속되지 않음</li> <li>일반적으로 함수 종속은 완전 함수 종속을 의미</li> <li>ex) 당첨여부는 {고객아이디, 이벤트번호} 에 완전 함수 종속</li></ul></li> <li>부분 함수 종속
<ul><li>속성 집합 Y가 속성 집합 X의 전체가 아닌 일부분에도 종속</li> <li>결정자가 여러 개의 속성들로 구성돼있어야 함</li> <li>ex) 고객이름은 {고객아이디, 이벤트번호}에 부분 함수 종속됨 (고객이름은 고객아이디에 완전 함수 종속)</li></ul></li> <li>함수 종속 규칙</li></ul> <p>X,Y,Z가 릴레이션 R에 포함된 속성의 집합이라고 할 때, 함수 종속에 관한 다음 규칙이 성립</p> <ol><li>부분집합 규칙: if Y <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊆</mo></mrow><annotation encoding="application/x-tex">\subseteq</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">⊆</span></span></span></span> X, then X → Y</li> <li>증가 규칙: if X → Y, then XZ → YZ</li> <li>이행 규칙: if X → Y, Y → Z, then X → Z</li></ol> <p>위 세 가지 규칙으로 부터 부가적인 다음 규칙들을 얻을 수 있음</p> <ol><li>결합 규칙: if X → Y and X → Z, then X → YZ</li> <li>분해 규칙: if X → YZ, then X → Y and X → Z</li> <li>유사이행 규칙: If X → Y and WY → Z, then WX → Z</li></ol></div> <div id="disqus_thread" class="comment"></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ddc79771.js" defer></script><script src="/assets/js/1.00a05d18.js" defer></script><script src="/assets/js/57.0b66cd56.js" defer></script>
  </body>
</html>
